System.register(["./.pnpm-legacy-c759fb7e.js","./index-legacy-23927c1f.js"],(function(r,e){"use strict";var o,t,a,s,n,c,i;return{setters:[r=>{o=r.d,t=r.r,a=r.o,s=r.l},r=>{n=r.d,c=r.I,i=r.M}],execute:function(){r("u",o("__AI_1024_STORE_DRAW",(()=>{const r=n(),e=t(!1),o=t({date:1683130381673,prompt:"",image_id:"",image_url:"",actions:[]}),u=t();return a((()=>{})),{dallEImage:u,loading:e,imageDrawAction:o=>{e.value=!0,async function(r,e){const o=new AbortController,t=setTimeout((()=>o.abort()),3e5);try{const a=`${n().bootstrap.api}${c}`,s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:o.signal});if(clearTimeout(t),s.ok){const r=await s.json();500===r.code?e?.onError(new Error(r.msg),r.code):e?.onSuccess(r)}else if(401===s.status)e?.onError(new Error("Anauthorized"),s.status);else if(500===s.status){const r=await s.json();e?.onError(new Error(r),s.status)}else e?.onError(new Error("Stream Error"),s.status)}catch(a){e?.onError(a)}}({...o,card:r.card},{onController(r){},onSuccess(r){e.value=!1,u.value={prompt:o.prompt,size:o.size,urls:r.data.map((r=>r.url)),date:r.created}},onError(r){e.value=!1,s.error(r?.message??"")}})},mjGenAction:t=>{e.value=!0,async function(r,e){try{const o=`${n().bootstrap.api}${i}`,t=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(t.ok){const r=await t.json();500===r.code?e?.onError(new Error(r.msg),r.code):e?.onSuccess(r)}else if(401===t.status)e?.onError(new Error("Anauthorized"),t.status);else if(500===t.status){const r=await t.json();e?.onError(new Error(r),t.status)}else e?.onError(new Error("Stream Error"),t.status)}catch(o){e?.onError(o)}}({...t,card:r.card},{onSuccess(r){e.value=!1,o.value={...r,prompt:t.prompt,date:(new Date).getDate()}},onError(r){e.value=!1,s.error(r?.message??"")}})},mjImage:o}}),{persist:{storage:sessionStorage,paths:["dallEImage","mjImage"]}}))}}}));
