System.register(["./.pnpm-legacy-602ac011.js","./draw-legacy-069565d6.js","./index-legacy-13e3f666.js"],(function(a,e){"use strict";var t,o,l,i,r,n,s,d,m,p,c,u,w,f,g,x,b,v,y,h,_,k,V,z,j,C,D,U,E,I,A,S,B,F,M,G,H,J,K=document.createElement("style");return K.textContent=".draw-view[data-v-1e203295]{--tw-bg-opacity: 1 !important;background-color:rgba(255,255,255,var(--tw-bg-opacity))!important;border-radius:.5rem!important;margin-left:auto!important;margin-right:auto!important;max-width:56rem!important;padding:2.5rem!important;--tw-shadow: 0 10px 15px -3px rgb(0 0 0/.1),0 4px 6px -4px rgb(0 0 0/.1) !important;--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color) !important;-webkit-box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)!important;width:100%!important}.dark .draw-view[data-v-1e203295]{--tw-bg-opacity: 1 !important;background-color:rgba(35,35,36,var(--tw-bg-opacity))!important}.draw-view.is-mobile[data-v-1e203295]{padding:1rem!important}.draw-view.is-mobile[data-v-1e203295] .arco-radio-button:before{display:none}.draw-view[data-v-1e203295] .arco-image-footer{background-color:rgba(0,0,0,.75);display:none!important;height:0px!important;overflow:hidden!important;padding:0!important}.draw-view[data-v-1e203295] .arco-image-footer .arco-image-footer-extra{padding-left:0!important;padding-right:0!important;width:100%!important}.draw-view[data-v-1e203295] .arco-image-footer .arco-image-footer-extra .actions{display:-webkit-box!important;display:-ms-flexbox!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;-webkit-align-items:center!important;align-items:center!important;-ms-flex-pack:distribute!important;-webkit-justify-content:space-around!important;justify-content:space-around!important;width:100%!important}.draw-view[data-v-1e203295] .arco-image-footer .arco-image-footer-extra .actions .action{cursor:pointer!important;font-size:1.125rem!important;line-height:1.75rem!important}\n",document.head.appendChild(K),{setters:[a=>{t=a.c,o=a.aA,l=a.r,i=a.m,r=a.aB,n=a.n,s=a.e,d=a.f,m=a.g,p=a.h,c=a.i,u=a.j,w=a.p,f=a.H,g=a.u,x=a.F,b=a.J,v=a.v,y=a.aC,h=a.l,_=a.aD,k=a.K,V=a.B,z=a.aE,j=a.R,C=a.a1,D=a.a4,U=a.Q,E=a.aF,I=a.W,A=a.t,S=a.M,B=a.x,F=a.aG},a=>{M=a.u},a=>{G=a.c,H=a.D,J=a.a}],execute:function(){const e={class:"flex items-center gap-x-5"},K={class:"text-xs px-2 py-1"},O={class:"flex flex-col items-start gap-y-3"},P={class:"flex flex-col gap-1"},Q={key:0,class:"flex items-center gap-3 flex-wrap"};a("default",J(t({__name:"DallE",setup(a){const{isMobileScreen:t}=G(),J=o({prompt:"",size:"256x256",n:1,response_format:"url"}),R=l(0),T=i((()=>y(H,2)[R.value])),W=()=>{const a=y(H,2).length-1,e=R.value+1>a?0:R.value+1;R.value=e},q=M(),L=i((()=>q.loading));r((async()=>!L.value||await new Promise(((a,e)=>{S.warning({title:"提示",okText:"离开",hideCancel:!1,content:"AI已经开始处理您的请求，此时刷新或离开页面，也会造成您的积分扣除，确定刷新或离开吗？",onOk(){a(!0)},onCancel(){e(!1)}})}))));const N=()=>{J.prompt.trim().length<1?h.error("关键词不能为空"):q.imageDrawAction(J)},X=i((()=>q.dallEImage));return l(!1),useImageDownloader(),(a,o)=>{const l=n("icon-exclamation-circle-fill"),i=_,r=k,y=n("icon-loop"),h=V,S=B,M=n("icon-robot"),G=z,H=j,R=C,q=D,Y=U,Z=F,$=E,aa=I;return s(),d(aa,{"outer-style":"flex: 1; overflow: hidden;",class:"overflow-y-auto h-full p-4 flex flex-col gap-y-2"},{default:m((()=>[p("div",{class:b(["draw-view",{"is-mobile":g(t)}])},[c(i,{type:"info",class:"max-w-max mx-auto rounded-full text-xs"},{icon:m((()=>[c(l)])),default:m((()=>[u(" 根据输入关键词生成~大约需要30s左右时间,每张图片 20 积分 ")])),_:1}),p("div",e,[c(r,{class:"h-12 flex items-center",bold:""},{default:m((()=>[u(" 关键词示例 ")])),_:1}),c(h,{type:"text",size:"mini",onClick:W},{default:m((()=>[c(y)])),_:1})]),(s(!0),w(x,null,f(g(T),(a=>(s(),w("div",{key:a.tag,class:"flex items-center gap-x-1 mb-2"},[p("mark",K,A(a.tag),1),c(S,{type:"secondary",copyable:"",class:"mb-0"},{default:m((()=>[u(A(a.keywords),1)])),_:2},1024)])))),128)),c(G,{loading:g(L),class:"w-full mt-4",size:"large",autofocus:"",modelValue:g(J).prompt,"onUpdate:modelValue":o[0]||(o[0]=a=>g(J).prompt=a),placeholder:"请用中文输入关键词如上，参考形式: 画面主体，细节描述，修饰词","search-button":"",onSearch:N},{"button-icon":m((()=>[c(M)])),"button-default":m((()=>[u("生成")])),_:1},8,["loading","modelValue"]),c(q,{model:g(J),class:b([{"is-mobile":g(t)},"mt-4 p-4 bg-light-300 dark:bg-dark-900 rounded"]),"label-col-props":{span:g(t)?24:void 0},"auto-label-width":!g(t),"label-align":"left"},{default:m((()=>[c(r,{class:"block",bold:""},{default:m((()=>[u(" 参数设置 ")])),_:1}),c(R,{label:"图片尺寸",class:"mb-2"},{default:m((()=>[p("div",{class:b(["w-full",{"grid grid-cols-2 gap-y-2":g(t)}])},[c(H,{class:"min-w-max",modelValue:g(J).size,"onUpdate:modelValue":o[1]||(o[1]=a=>g(J).size=a),type:"button",value:"256x256"},{default:m((()=>[u(" 256x256(小图) ")])),_:1},8,["modelValue"]),c(H,{class:"min-w-max",modelValue:g(J).size,"onUpdate:modelValue":o[2]||(o[2]=a=>g(J).size=a),type:"button",value:"512x512"},{default:m((()=>[u(" 512x512(中图) ")])),_:1},8,["modelValue"]),c(H,{class:"min-w-max",modelValue:g(J).size,"onUpdate:modelValue":o[3]||(o[3]=a=>g(J).size=a),type:"button",value:"1024x1024"},{default:m((()=>[u(" 1024x1024(大图) ")])),_:1},8,["modelValue"])],2)])),_:1}),c(R,{"validate-status":"warning",label:"图片数量",class:"mb-2"},{default:m((()=>[p("div",{class:b(["w-full",{"grid grid-cols-5 gap-y-2":g(t)}])},[(s(),w(x,null,f(10,(a=>c(H,{class:"min-w-max",modelValue:g(J).n,"onUpdate:modelValue":o[4]||(o[4]=a=>g(J).n=a),type:"button",key:a,value:a},{default:m((()=>[u(A(a)+"张 ",1)])),_:2},1032,["modelValue","value"]))),64))],2)])),_:1})])),_:1},8,["model","class","label-col-props","auto-label-width"]),p("div",O,[c(Y,{orientation:"center"},{default:m((()=>[u(" 结果区域 ")])),_:1}),c(i,{type:"warning"},{default:m((()=>[p("div",P,[c(r,{class:"text-xs font-semibold",type:"secondary"},{default:m((()=>[u(" 仅保存最近一次生成记录, 关闭浏览器不保存, 请及时下载 ")])),_:1}),c(r,{class:"text-xs",type:"secondary"},{default:m((()=>[u(" 在电脑浏览器中，可以通过右键点击图片并选择“另存为”选项将图片保存到本地。 ")])),_:1}),c(r,{class:"text-xs",type:"secondary"},{default:m((()=>[u(" 在手机浏览器中，可以通过长按图片并选择“保存图片”选项将图片保存到本地。 ")])),_:1})])])),_:1}),g(X)?.date?(s(),w("div",Q,[c($,{infinite:""},{default:m((()=>[(s(!0),w(x,null,f(g(X)?.urls||[],(a=>(s(),d(Z,{key:a,width:256,"show-loader":"",class:"min-h-40",src:a},null,8,["src"])))),128))])),_:1})])):v("",!0)])],2)])),_:1})}}}),[["__scopeId","data-v-1e203295"]]))}}}));
