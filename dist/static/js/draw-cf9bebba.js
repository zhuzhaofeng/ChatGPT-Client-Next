import{d as e,r,o as a,l as o}from"./.pnpm-a69223b2.js";import{d as t,I as n,M as s}from"./index-31028d6a.js";const i=e("__AI_1024_STORE_DRAW",(()=>{const e=t(),i=r(!1),l=r({date:1683130381673,prompt:"The concept of the picture is a beautiful female warrior in a sailor uniform holding a machine gun. The photo is taken with a Canon EOS 5D Mark IV with a 50mm lens. The parameters are set to capture the details of the uniform and the machine gun, while still having a slightly blurred background. The photo style is bold and dynamic, with a hint of vintage. The color tone is slightly desaturated to give a more rugged feel. The lighting is dramatic, with a strong backlight to highlight the silhouette of the warrior. The atmosphere is intense, with a sense of danger and action. The composition is centered on the warrior, with the machine gun and uniform taking up most of the frame.",image_id:"1103346081670115419",image_url:"https://midjourney.cdn.zhishuyun.com/attachments/1100463152530989130/1103352665959841882/furo_ignoreeab1a28b-11ce-4925-84f6-c906a91d2762_The_concept_of__1d7064bc-d3db-4527-b806-7412ee11765b.png",actions:["upsample1","upsample2","upsample3","upsample4","variation1","variation2","variation3","variation4"]}),u=r();a((()=>{}));return{dallEImage:u,loading:i,imageDrawAction:r=>{i.value=!0,async function(e,r){const a=new AbortController,o=setTimeout((()=>a.abort()),3e5);try{const s=`${t().bootstrap.api}${n}`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:a.signal});if(clearTimeout(o),i.ok){const e=await i.json();500===e.code?null==r||r.onError(new Error(e.msg),e.code):null==r||r.onSuccess(e)}else if(401===i.status)null==r||r.onError(new Error("Anauthorized"),i.status);else if(500===i.status){const e=await i.json();null==r||r.onError(new Error(e),i.status)}else null==r||r.onError(new Error("Stream Error"),i.status)}catch(s){null==r||r.onError(s)}}({...r,card:e.card},{onController(e){},onSuccess(e){i.value=!1,u.value={prompt:r.prompt,size:r.size,urls:e.data.map((e=>e.url)),date:e.created}},onError(e){var r;i.value=!1,o.error(null!=(r=null==e?void 0:e.message)?r:"")}})},mjGenAction:r=>{i.value=!0,async function(e,r){try{const a=`${t().bootstrap.api}${s}`,o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(o.ok){const e=await o.json();500===e.code?null==r||r.onError(new Error(e.msg),e.code):null==r||r.onSuccess(e)}else if(401===o.status)null==r||r.onError(new Error("Anauthorized"),o.status);else if(500===o.status){const e=await o.json();null==r||r.onError(new Error(e),o.status)}else null==r||r.onError(new Error("Stream Error"),o.status)}catch(a){null==r||r.onError(a)}}({...r,card:e.card},{onSuccess(e){i.value=!1,l.value={...e,prompt:r.prompt,date:(new Date).getDate()}},onError(e){var r;i.value=!1,o.error(null!=(r=null==e?void 0:e.message)?r:"")}})},mjImage:l}}),{persist:{storage:sessionStorage,paths:["dallEImage","mjImage"]}});export{i as u};
