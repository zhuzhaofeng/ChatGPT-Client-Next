import{g as E,ao as se,X as Pe,aY as Oe,aZ as Ve,m as R,v,E as J,r as x,o as g,i as ie,c as C,P as ce,n as de,s as b,t as fe,q as Fe,aD as ve,x as ze,y as Re,z as Te,A as H,H as Ae,J as ae,G as Me,b as i,Q as z,I as Q,l as Ne,d as je,K as Ge,aF as te,F as We,B as De,a_ as He,a$ as Ke,aS as Ue,w as k,S,a0 as le,T as qe,U as Je}from"./index-dcda80a3.js";const Qe=E({name:"FeedbackIcon",components:{IconLoading:se,IconCheckCircleFill:Pe,IconExclamationCircleFill:Oe,IconCloseCircleFill:Ve},props:{type:{type:String}},setup(e){const t=R("feedback-icon");return{cls:v(()=>[t,`${t}-status-${e.type}`])}}});function Xe(e,t,a,p,r,d){const u=x("icon-loading"),f=x("icon-check-circle-fill"),l=x("icon-exclamation-circle-fill"),c=x("icon-close-circle-fill");return g(),ie("span",{class:de(e.cls)},[e.type==="validating"?(g(),C(u,{key:0})):e.type==="success"?(g(),C(f,{key:1})):e.type==="warning"?(g(),C(l,{key:2})):e.type==="error"?(g(),C(c,{key:3})):ce("v-if",!0)],2)}var Ye=J(Qe,[["render",Xe]]);const Ze={key:"Enter",code:"Enter"},fn={key:"Backspace",code:"Backspace"};function en(e,t){const a={};return t.forEach(p=>{const r=p;p in e&&(a[r]=e[r])}),a}function nn(e){const t=b();function a(){if(!e.value)return;const{selectionStart:r,selectionEnd:d,value:u}=e.value;if(r==null||d==null)return;const f=u.slice(0,Math.max(0,r)),l=u.slice(Math.max(0,d));t.value={selectionStart:r,selectionEnd:d,value:u,beforeTxt:f,afterTxt:l}}function p(){if(!e.value||!t.value)return;const{value:r}=e.value,{beforeTxt:d,afterTxt:u,selectionStart:f}=t.value;if(!d||!u||!f)return;let l=r.length;if(r.endsWith(u))l=r.length-u.length;else if(r.startsWith(d))l=d.length;else{const c=d[f-1],$=r.indexOf(c,f-1);$!==-1&&(l=$+1)}e.value.setSelectionRange(l,l)}return[a,p]}var an=Object.defineProperty,oe=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,re=(e,t,a)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ue=(e,t)=>{for(var a in t||(t={}))tn.call(t,a)&&re(e,a,t[a]);if(oe)for(var a of oe(t))ln.call(t,a)&&re(e,a,t[a]);return e},L=E({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,t)=>!0,change:(e,t)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:a,attrs:p}){const{size:r,disabled:d,error:u,modelValue:f}=fe(e),l=R("input"),c=b(),{mergedSize:$,mergedDisabled:m,mergedError:I,feedback:P,eventHandlers:B}=Fe({size:r,disabled:d,error:u}),{mergedSize:X}=ve($),[pe,me]=nn(c),T=b(e.defaultValue),_=v(()=>{var n;return(n=e.modelValue)!=null?n:T.value});ze(f,n=>{(Re(n)||Te(n))&&(T.value="")});let A=_.value;const M=b(!1),he=v(()=>e.allowClear&&!m.value&&!!_.value),O=b(!1),Y=b(""),w=n=>{var o;return Me(e.wordLength)?e.wordLength(n):(o=n.length)!=null?o:0},V=v(()=>w(_.value)),Z=v(()=>I.value||!!(H(e.maxLength)&&e.maxLength.errorOnly&&V.value>h.value)),N=v(()=>H(e.maxLength)&&!!e.maxLength.errorOnly),h=v(()=>H(e.maxLength)?e.maxLength.length:e.maxLength),_e=v(()=>{const n=w("a");return Math.floor(h.value/n)}),j=n=>{var o,s;h.value&&!N.value&&w(n)>h.value&&(n=(s=(o=e.wordSlice)==null?void 0:o.call(e,n,h.value))!=null?s:n.slice(0,_e.value)),T.value=n,t("update:modelValue",n)},ge=n=>{c.value&&n.target!==c.value&&(n.preventDefault(),c.value.focus())},G=(n,o)=>{var s,y;n!==A&&(A=n,t("change",n,o),(y=(s=B.value)==null?void 0:s.onChange)==null||y.call(s,o))},ye=n=>{var o,s;M.value=!0,A=_.value,t("focus",n),(s=(o=B.value)==null?void 0:o.onFocus)==null||s.call(o,n)},be=n=>{var o,s;M.value=!1,G(_.value,n),t("blur",n),(s=(o=B.value)==null?void 0:o.onBlur)==null||s.call(o,n)},W=n=>{var o,s,y;const{value:D,selectionStart:Le,selectionEnd:Ee}=n.target;if(n.type==="compositionend"){if(O.value=!1,Y.value="",h.value&&!N.value&&V.value>=h.value&&w(D)>h.value&&Le===Ee){F();return}j(D),t("input",D,n),(s=(o=B.value)==null?void 0:o.onInput)==null||s.call(o,n),F()}else O.value=!0,Y.value=_.value+((y=n.data)!=null?y:"")},F=()=>{pe(),Ge(()=>{c.value&&_.value!==c.value.value&&(c.value.value=_.value,me())})},xe=n=>{var o,s;const{value:y}=n.target;if(!O.value){if(h.value&&!N.value&&V.value>=h.value&&w(y)>h.value&&n.inputType==="insertText"){F();return}j(y),t("input",y,n),(s=(o=B.value)==null?void 0:o.onInput)==null||s.call(o,n),F()}},Ce=n=>{j(""),G("",n),t("clear",n)},$e=n=>{const o=n.key||n.code;!O.value&&o===Ze.key&&(G(_.value,n),t("pressEnter",n))},Ie=v(()=>[`${l}-outer`,`${l}-outer-size-${X.value}`,{[`${l}-outer-has-suffix`]:!!a.suffix,[`${l}-outer-disabled`]:m.value}]),Be=v(()=>[`${l}-wrapper`,{[`${l}-error`]:Z.value,[`${l}-disabled`]:m.value,[`${l}-focus`]:M.value}]),we=v(()=>[l,`${l}-size-${X.value}`]),ee=v(()=>Ae(p,ae)),ke=v(()=>en(p,ae)),Se=v(()=>{const n=ue(ue({},ke.value),e.inputAttrs);return Z.value&&(n["aria-invalid"]=!0),n}),ne=n=>{var o;return i("span",z({class:Be.value,onMousedown:ge},n?void 0:ee.value),[a.prefix&&i("span",{class:`${l}-prefix`},[a.prefix()]),i("input",z(Se.value,{ref:c,class:we.value,value:_.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:m.value,onInput:xe,onKeydown:$e,onFocus:ye,onBlur:be,onCompositionstart:W,onCompositionupdate:W,onCompositionend:W}),null),he.value&&i(Q,{prefix:l,class:`${l}-clear-btn`,onClick:Ce},{default:()=>[i(Ne,null,null)]}),(a.suffix||!!e.maxLength&&e.showWordLimit||!!P.value)&&i("span",{class:[`${l}-suffix`,{[`${l}-suffix-has-feedback`]:P.value}]},[!!e.maxLength&&e.showWordLimit&&i("span",{class:`${l}-word-limit`},[V.value,je("/"),h.value]),(o=a.suffix)==null?void 0:o.call(a),!!P.value&&i(Ye,{type:P.value},null)])])};return{inputRef:c,render:()=>a.prepend||a.append?i("span",z({class:Ie.value},ee.value),[a.prepend&&i("span",{class:`${l}-prepend`},[a.prepend()]),ne(!0),a.append&&i("span",{class:`${l}-append`},[a.append()])]):ne()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),K=E({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,t)=>!0},setup(e,{emit:t,slots:a}){const{size:p}=fe(e),r=R("input-search"),{mergedSize:d}=ve(p),u=b(),f=m=>{u.value.inputRef&&t("search",u.value.inputRef.value,m)},l=()=>{var m;return i(We,null,[e.loading?i(se,null,null):i(Q,{onClick:f},{default:()=>[i(te,null,null)]}),(m=a.suffix)==null?void 0:m.call(a)])},c=()=>{var m;let I={};return e.buttonText||a["button-default"]||a["button-icon"]?I={default:(m=a["button-default"])!=null?m:e.buttonText?()=>e.buttonText:void 0,icon:a["button-icon"]}:I={icon:()=>i(te,null,null)},i(De,z({type:"primary",class:`${r}-btn`,disabled:e.disabled,size:d.value,loading:e.loading},e.buttonProps,{onClick:f}),I)};return{inputRef:u,render:()=>i(L,{ref:u,class:r,size:d.value,disabled:e.disabled},{prepend:a.prepend,prefix:a.prefix,suffix:e.searchButton?a.suffix:l,append:e.searchButton?c:a.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const on=E({name:"InputPassword",components:{IconEye:He,IconEyeInvisible:Ke,AIconHover:Q,AInput:L},props:{invisibleButton:{type:Boolean,default:!0}},setup(){const e=b(),t=b(!0);return{inputRef:e,invisible:t,handleInvisible:()=>{t.value=!t.value}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function rn(e,t,a,p,r,d){const u=x("icon-eye"),f=x("icon-eye-invisible"),l=x("a-icon-hover"),c=x("a-input");return g(),C(c,{ref:"inputRef",type:e.invisible?"password":"text"},Ue({_:2},[e.$slots.prepend?{name:"prepend",fn:k(()=>[S(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:k(()=>[S(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:k(()=>[e.invisibleButton?(g(),C(l,{key:0,onClick:e.handleInvisible,onMousedown:t[0]||(t[0]=le(()=>{},["prevent"])),onMouseup:t[1]||(t[1]=le(()=>{},["prevent"]))},{default:k(()=>[e.invisible?(g(),C(f,{key:1})):(g(),C(u,{key:0}))]),_:1},8,["onClick"])):ce("v-if",!0),S(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:k(()=>[S(e.$slots,"append")])}:void 0]),1032,["type"])}var U=J(on,[["render",rn]]);const un=E({name:"InputGroup",setup(){return{prefixCls:R("input-group")}}});function sn(e,t,a,p,r,d){return g(),ie("div",{class:de(e.prefixCls)},[S(e.$slots,"default")],2)}var q=J(un,[["render",sn]]);const vn=Object.assign(L,{Search:K,Password:U,Group:q,install:(e,t)=>{qe(e,t);const a=Je(t);e.component(a+L.name,L),e.component(a+q.name,q),e.component(a+K.name,K),e.component(a+U.name,U)}});export{fn as B,Ze as E,Ye as F,vn as I,en as p,nn as u};
