System.register(["./index-legacy-6557830e.js"],(function(e,l){"use strict";var t,a,o,n,i,r,u,s,c,d,v,h,f,b,m,p,S,z,y,R,g,T,$,w,x,C;return{setters:[e=>{t=e.g,a=e.m,o=e.s,n=e.v,i=e.E,r=e.aW,u=e.aX,s=e.o,c=e.c,d=e.w,v=e.a,h=e.n,f=e.a0,b=e.N,m=e.aQ,p=e.aO,S=e.C,z=e.A,y=e.r,R=e.i,g=e.b,T=e.Q,$=e.S,w=e.P,x=e.T,C=e.U}],execute:function(){const l=t({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:l}){const t=a("scrollbar"),i=o(!1),s=o(),c=o(),d=n((()=>"horizontal"===e.direction?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"})),v=o(0),h=o(!1),f=o(0),b=n((()=>{var l,t;return{[d.value.size]:`${null!=(t=null==(l=e.data)?void 0:l.thumbSize)?t:0}px`,[d.value.direction]:`${v.value}px`}})),m=l=>l<0?0:e.data&&l>e.data.max?e.data.max:l,p=e=>{if(s.value&&c.value){const t=m(e[d.value.client]-s.value.getBoundingClientRect()[d.value.direction]-f.value);t!==v.value&&(v.value=t,l("scroll",t))}},S=()=>{h.value=!1,u(window,"mousemove",p),u(window,"mouseup",S)},z=n((()=>[`${t}-thumb`,`${t}-thumb-direction-${e.direction}`,{[`${t}-thumb-dragging`]:h.value}]));return{visible:i,trackRef:s,thumbRef:c,prefixCls:t,thumbCls:z,thumbStyle:b,handleThumbMouseDown:e=>{e.preventDefault(),c.value&&(f.value=e[d.value.client]-c.value.getBoundingClientRect()[d.value.direction],h.value=!0,r(window,"mousemove",p),r(window,"mouseup",S),r(window,"contextmenu",S))},handleTrackClick:t=>{var a,o,n,i;if(t.preventDefault(),c.value){const r=m(t[d.value.client]>c.value.getBoundingClientRect()[d.value.direction]?v.value+(null!=(o=null==(a=e.data)?void 0:a.thumbSize)?o:0):v.value-(null!=(i=null==(n=e.data)?void 0:n.thumbSize)?i:0));r!==v.value&&(v.value=r,l("scroll",r))}},setOffset:e=>{h.value||(e=m(e))!==v.value&&(v.value=e)}}}}),k=t({name:"Scrollbar",components:{ResizeObserver:p,Thumb:i(l,[["render",function(e,l,t,a,o,n){return s(),c(m,null,{default:d((()=>[v("div",{ref:"trackRef",class:h([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:l[1]||(l[1]=f(((...l)=>e.handleTrackClick&&e.handleTrackClick(...l)),["self"]))},[v("div",{ref:"thumbRef",class:h(e.thumbCls),style:b(e.thumbStyle),onMousedown:l[0]||(l[0]=(...l)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...l))},[v("div",{class:h(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)])),_:1})}]])},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:l}){const t=a("scrollbar"),i=o(),r=o(),u=o(),s=o(),c=o(),d=o(!1),v=o(!1),h=n((()=>d.value&&!e.disableHorizontal)),f=n((()=>v.value&&!e.disableVertical)),b=o(!1),m=()=>{var l,t,a,o,n,m;if(i.value){const{clientWidth:p,clientHeight:S,offsetWidth:z,offsetHeight:y,scrollWidth:R,scrollHeight:g,scrollTop:T,scrollLeft:$}=i.value;d.value=R>p,v.value=g>S,b.value=h.value&&f.value;const w="embed"===e.type&&b.value?z-15:z,x="embed"===e.type&&b.value?y-15:y,C=Math.round(w/Math.min(R/p,w/20)),k=w-C,M=(R-p)/k,B=Math.round(x/Math.min(g/S,x/20)),O=x-B,H=(g-S)/O;if(r.value={ratio:M,thumbSize:C,max:k},u.value={ratio:H,thumbSize:B,max:O},T>0){const e=Math.round(T/(null!=(t=null==(l=u.value)?void 0:l.ratio)?t:1));null==(a=c.value)||a.setOffset(e)}if($>0){const e=Math.round($/(null!=(n=null==(o=u.value)?void 0:o.ratio)?n:1));null==(m=s.value)||m.setOffset(e)}}};S((()=>{m()}));const p=n((()=>{const l={};return"track"===e.type&&(h.value&&(l.paddingBottom="15px"),f.value&&(l.paddingRight="15px")),[l,e.outerStyle]})),z=n((()=>[`${t}`,`${t}-type-${e.type}`,{[`${t}-both`]:b.value},e.outerClass]));return{prefixCls:t,cls:z,style:p,containerRef:i,horizontalThumbRef:s,verticalThumbRef:c,horizontalData:r,verticalData:u,isBoth:b,hasHorizontalScrollbar:h,hasVerticalScrollbar:f,handleResize:()=>{m()},handleScroll:t=>{var a,o,n,d,v,b;if(i.value){if(h.value&&!e.disableHorizontal){const e=Math.round(i.value.scrollLeft/(null!=(o=null==(a=r.value)?void 0:a.ratio)?o:1));null==(n=s.value)||n.setOffset(e)}if(f.value&&!e.disableVertical){const e=Math.round(i.value.scrollTop/(null!=(v=null==(d=u.value)?void 0:d.ratio)?v:1));null==(b=c.value)||b.setOffset(e)}}l("scroll",t)},handleHorizontalScroll:e=>{var l,t;i.value&&i.value.scrollTo({left:e*(null!=(t=null==(l=r.value)?void 0:l.ratio)?t:1)})},handleVerticalScroll:e=>{var l,t;i.value&&i.value.scrollTo({top:e*(null!=(t=null==(l=u.value)?void 0:l.ratio)?t:1)})}}},methods:{scrollTo(e,l){var t,a;z(e)?null==(t=this.$refs.containerRef)||t.scrollTo(e):(e||l)&&(null==(a=this.$refs.containerRef)||a.scrollTo(e,l))},scrollTop(e){var l;null==(l=this.$refs.containerRef)||l.scrollTo({top:e})},scrollLeft(e){var l;null==(l=this.$refs.containerRef)||l.scrollTo({left:e})}}});var M=i(k,[["render",function(e,l,t,a,o,n){const i=y("ResizeObserver"),r=y("thumb");return s(),R("div",{class:h(e.cls),style:b(e.style)},[g(i,{onResize:e.handleResize},{default:d((()=>[v("div",T({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:l[0]||(l[0]=(...l)=>e.handleScroll&&e.handleScroll(...l))}),[g(i,{onResize:e.handleResize},{default:d((()=>[$(e.$slots,"default")])),_:3},8,["onResize"])],16)])),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(s(),c(r,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):w("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(s(),c(r,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):w("v-if",!0)],6)}]]);e("S",Object.assign(M,{install:(e,l)=>{x(e,l);const t=C(l);e.component(t+M.name,M)}}))}}}));
